{
  "$schema": "https://raw.githubusercontent.com/anthropics/claude-code/main/schemas/hooks.json",
  "description": "Optional hooks for compact-reviewer plugin. Enable for pre-commit validation of Compact contracts.",
  "hooks": {
    "pre-commit": {
      "enabled": false,
      "description": "Run validation scripts on staged .compact files before commit",
      "match": {
        "files": ["**/*.compact"]
      },
      "command": {
        "type": "shell",
        "run": "for file in $(git diff --cached --name-only --diff-filter=ACMR '*.compact'); do compact-reviewer/scripts/lint-compact.sh \"$file\" || exit 1; done"
      }
    },
    "pre-push": {
      "enabled": false,
      "description": "Run disclosure check on all .compact files before push",
      "match": {
        "files": ["**/*.compact"]
      },
      "command": {
        "type": "shell",
        "run": "for file in $(git diff --name-only origin/main '*.compact'); do python3 compact-reviewer/scripts/check-disclosure.py \"$file\" || exit 1; done"
      }
    }
  },
  "notes": [
    "Hooks are disabled by default - enable by setting 'enabled': true",
    "Pre-commit runs lint checks on staged files",
    "Pre-push runs disclosure validation on changed files",
    "Both hooks fail-fast on first error"
  ]
}
